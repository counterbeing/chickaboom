(function(t){function e(e){for(var a,r,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)r=i[u],n[r]&&m.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==n[l]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={1:0},o=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;o.push([17,0]),s()})({"/IYg":function(t,e,s){},"/MdH":function(t,e,s){},17:function(t,e,s){t.exports=s("Vtdi")},"2RVC":function(t,e,s){},"4ZAi":function(t,e,s){},BFE1:function(t,e,s){},"C/QD":function(t,e,s){"use strict";var a=s("dPEC"),n=s.n(a);n.a},CJhh:function(t,e,s){"use strict";var a=s("/IYg"),n=s.n(a);n.a},"Hp+3":function(t,e,s){},MJ0c:function(t,e,s){"use strict";var a=s("m2aQ"),n=s.n(a);n.a},N9RW:function(t,e,s){},Nsm5:function(t,e,s){"use strict";var a=s("vMtS"),n=s.n(a);n.a},Orj7:function(t){t.exports={200:{label:"thunderstorm with light rain",icon:"storm-showers"},201:{label:"thunderstorm with rain",icon:"storm-showers"},202:{label:"thunderstorm with heavy rain",icon:"storm-showers"},210:{label:"light thunderstorm",icon:"storm-showers"},211:{label:"thunderstorm",icon:"thunderstorm"},212:{label:"heavy thunderstorm",icon:"thunderstorm"},221:{label:"ragged thunderstorm",icon:"thunderstorm"},230:{label:"thunderstorm with light drizzle",icon:"storm-showers"},231:{label:"thunderstorm with drizzle",icon:"storm-showers"},232:{label:"thunderstorm with heavy drizzle",icon:"storm-showers"},300:{label:"light intensity drizzle",icon:"sprinkle"},301:{label:"drizzle",icon:"sprinkle"},302:{label:"heavy intensity drizzle",icon:"sprinkle"},310:{label:"light intensity drizzle rain",icon:"sprinkle"},311:{label:"drizzle rain",icon:"sprinkle"},312:{label:"heavy intensity drizzle rain",icon:"sprinkle"},313:{label:"shower rain and drizzle",icon:"sprinkle"},314:{label:"heavy shower rain and drizzle",icon:"sprinkle"},321:{label:"shower drizzle",icon:"sprinkle"},500:{label:"light rain",icon:"rain"},501:{label:"moderate rain",icon:"rain"},502:{label:"heavy intensity rain",icon:"rain"},503:{label:"very heavy rain",icon:"rain"},504:{label:"extreme rain",icon:"rain"},511:{label:"freezing rain",icon:"rain-mix"},520:{label:"light intensity shower rain",icon:"showers"},521:{label:"shower rain",icon:"showers"},522:{label:"heavy intensity shower rain",icon:"showers"},531:{label:"ragged shower rain",icon:"showers"},600:{label:"light snow",icon:"snow"},601:{label:"snow",icon:"snow"},602:{label:"heavy snow",icon:"snow"},611:{label:"sleet",icon:"sleet"},612:{label:"shower sleet",icon:"sleet"},615:{label:"light rain and snow",icon:"rain-mix"},616:{label:"rain and snow",icon:"rain-mix"},620:{label:"light shower snow",icon:"rain-mix"},621:{label:"shower snow",icon:"rain-mix"},622:{label:"heavy shower snow",icon:"rain-mix"},701:{label:"mist",icon:"sprinkle"},711:{label:"smoke",icon:"smoke"},721:{label:"haze",icon:"day-haze"},731:{label:"sand, dust whirls",icon:"cloudy-gusts"},741:{label:"fog",icon:"fog"},751:{label:"sand",icon:"cloudy-gusts"},761:{label:"dust",icon:"dust"},762:{label:"volcanic ash",icon:"smog"},771:{label:"squalls",icon:"day-windy"},781:{label:"tornado",icon:"tornado"},800:{label:"clear sky",icon:"sunny"},801:{label:"few clouds",icon:"cloudy"},802:{label:"scattered clouds",icon:"cloudy"},803:{label:"broken clouds",icon:"cloudy"},804:{label:"overcast clouds",icon:"cloudy"},900:{label:"tornado",icon:"tornado"},901:{label:"tropical storm",icon:"hurricane"},902:{label:"hurricane",icon:"hurricane"},903:{label:"cold",icon:"snowflake-cold"},904:{label:"hot",icon:"hot"},905:{label:"windy",icon:"windy"},906:{label:"hail",icon:"hail"},951:{label:"calm",icon:"sunny"},952:{label:"light breeze",icon:"cloudy-gusts"},953:{label:"gentle breeze",icon:"cloudy-gusts"},954:{label:"moderate breeze",icon:"cloudy-gusts"},955:{label:"fresh breeze",icon:"cloudy-gusts"},956:{label:"strong breeze",icon:"cloudy-gusts"},957:{label:"high wind, near gale",icon:"cloudy-gusts"},958:{label:"gale",icon:"cloudy-gusts"},959:{label:"severe gale",icon:"cloudy-gusts"},960:{label:"storm",icon:"thunderstorm"},961:{label:"violent storm",icon:"thunderstorm"},962:{label:"hurricane",icon:"cloudy-gusts"}}},Phh4:function(t,e,s){"use strict";var a=s("2RVC"),n=s.n(a);n.a},RnhZ:function(t,e,s){var a={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function n(t){var e=o(t),a=s(e);return a}function o(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}n.keys=function(){return Object.keys(a)},n.resolve=o,t.exports=n,n.id="RnhZ"},Vtdi:function(t,e,s){"use strict";s.r(e);s("VRzm");var a=s("Kw5r"),n=s("jE9Z"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"customer-list"},[s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[s("h1",{staticClass:"h3"},[t._v("Customers")]),s("div",{staticClass:"btn-toolbar mb-2 mb-md-0 d-print-none"},[s("div",{staticClass:"btn-group mr-2"},[s("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"new-customer"}}},[t._v("New Customer")])],1)])]),s("table",{staticClass:"table table-hover"},[t._m(0),s("tbody",t._l(t.customers,function(e){return s("tr",{key:e.id,staticClass:"customer-row",on:{dblclick:function(s){t.openCustomer(e.id)}}},[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.email))]),s("td",[t._v(t._s(e.phone))])])}))])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-light"},[s("tr",[s("th",[t._v("Name")]),s("th",[t._v("Email")]),s("th",[t._v("Phone")])])])}],i=s("yT7P"),l=s("L2JU"),c={name:"customers",data:function(){return{}},created:function(){},computed:Object(i["a"])({},Object(l["c"])(["customers"])),methods:{openCustomer:function(t){pe.push({name:"customer",params:{id:t}})}}},d=c,u=s("KHd+"),m=Object(u["a"])(d,o,r,!1,null,null,null),v=m.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.customer?s("div",{staticClass:"customer-list"},[s("contact-info",{attrs:{customer:t.customer}}),s("hr"),s("jobs",{attrs:{"customer-id":t.customer.id}})],1):t._e()},f=[],h=(s("dRSK"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"job-list"},[s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[s("h3",[t._v("Jobs")]),s("div",{staticClass:"btn-toolbar mb-2 mb-md-0 d-print-none"},[s("div",{staticClass:"btn-group mr-2"},[s("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"new-job",params:{customerId:t.customerId}}}},[t._v("\n        New Job\n        ")])],1)])]),s("table",{staticClass:"table table-hover"},[t._m(0),s("tbody",t._l(t.filteredJobs,function(e,a){return s("tr",{key:e.id,staticClass:"job-row",on:{dblclick:function(s){t.openJob(e.id)}}},[s("td",[t._v("2018.07.15")]),s("td",[t._v(t._s(t.customer[a]))]),s("td",[t._v(t._s(e.videos.length))]),s("td",[t._v("10")]),s("td",[t._v("6.5 Hours")]),s("td",[t._v("$520.00")])])}))])])}),b=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-light"},[s("tr",[s("th",[t._v("Date")]),s("th",[t._v("Customer")]),s("th",[t._v("Videos")]),s("th",[t._v("Photos")]),s("th",[t._v("Hours")]),s("th",[t._v("Amount")])])])}],_=(s("f3/d"),{name:"jobs",props:["customerId"],data:function(){return{}},computed:Object(i["a"])({},Object(l["c"])(["jobs","customers"]),{customer:function(){var t=this;return this.filteredJobs.map(function(e){if(null===e.customer_id)return null;var s=t.customers.find(function(t){return e.customer_id===t.id});return s?s.name:null})},filteredJobs:function(){var t=this;return this.customerId?this.jobs.filter(function(e){return e.customer_id===t.customerId}):this.jobs}}),created:function(){},methods:{openJob:function(t){pe.push({name:"job",params:{id:t}})}}}),g=_,j=Object(u["a"])(g,h,b,!1,null,null,null),w=j.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[s("h3",[t._v(t._s(t.customer.name))]),s("div",{staticClass:"btn-toolbar mb-2 mb-md-0 d-print-none"},[s("div",{staticClass:"btn-group mr-2"},[s("a",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{href:"#"},on:{click:function(e){t.deleteCustomer(t.customer.id)}}},[t._v("Delete Customer")]),s("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"new-customer"}}},[t._v("Edit Customer")])],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Contact")]),s("table",{staticClass:"contact-table"},[s("tr",[s("td",[t._v("name")]),s("td",[t._v(" "+t._s(t.customer.name))])]),s("tr",[s("td",[t._v("email")]),s("td",[s("a",{attrs:{href:"mailto:"+t.customer.email}},[t._v(t._s(t.customer.email))])])]),s("tr",[s("td",[t._v("phone")]),s("td",[s("a",{attrs:{href:t.phone_link}},[t._v(" "+t._s(t.customer.phone))])])])])])])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Billing Address")]),s("div",{staticClass:"street"},[t._v(t._s(t.customer.address.address_1))]),s("div",{staticClass:"state"},[t._v(t._s(t.customer.address.city)+",  "+t._s(t.customer.address.state)+" "+t._s(t.customer.address.zip))])])])])])])},C=[],x={name:"contact-info",props:["customer"],methods:Object(i["a"])({},Object(l["b"])(["deleteCustomer"])),computed:{phone_link:function(){return"tel:".concat(this.customer.phone)}}},k=x,O=(s("f8oU"),Object(u["a"])(k,y,C,!1,null,null,null)),A=O.exports,E={name:"customer",components:{Jobs:w,ContactInfo:A},data:function(){return{}},computed:Object(i["a"])({},Object(l["c"])(["customers"]),{customer:function(){var t=this;return this.customers.find(function(e){return e.id===t.$route.params.id})}}),methods:Object(i["a"])({},Object(l["b"])(["deleteCustomer"]))},z=E,D=Object(u["a"])(z,p,f,!1,null,null,null),S=D.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"customer-list"},[s("div",{staticClass:"col-md-12 order-md-1"},[s("h3",{staticClass:"mb-3"},[t._v("New Customer")]),s("form",{staticClass:"needs-validation",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"name"}},[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.name,expression:"customer.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Jesus H. Christ",value:"",required:""},domProps:{value:t.customer.name},on:{input:function(e){e.target.composing||t.$set(t.customer,"name",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n              Valid first name is required.\n            ")])]),s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"email"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.email,expression:"customer.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"you@example.com"},domProps:{value:t.customer.email},on:{input:function(e){e.target.composing||t.$set(t.customer,"email",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n              Please enter a valid email address for  shipping updates.\n            ")])]),s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"customer.phone"}},[t._v("Phone")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.phone,expression:"customer.phone"}],staticClass:"form-control",attrs:{type:"tel",id:"phone",placeholder:"555-555-5555"},domProps:{value:t.customer.phone},on:{input:function(e){e.target.composing||t.$set(t.customer,"phone",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n              Need a phone number.\n            ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAddress,expression:"!showAddress"}],staticClass:"mb-3"},[s("label",{attrs:{for:"customer.email"}},[t._v("Billing Address")]),s("vue-google-autocomplete",{ref:"address",attrs:{id:"place-search",classname:"form-control",placeholder:"Search for billing address",country:"us"},on:{placechanged:t.getAddressData}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showAddress,expression:"showAddress"}]},[s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"address"}},[t._v("Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address.address_1,expression:"customer.address.address_1"}],staticClass:"form-control",attrs:{type:"text",id:"address_1",placeholder:"1234 Main St",required:""},domProps:{value:t.customer.address.address_1},on:{input:function(e){e.target.composing||t.$set(t.customer.address,"address_1",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                Please enter a billing address.\n              ")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"zip"}},[t._v("City")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address.city,expression:"customer.address.city"}],staticClass:"form-control",attrs:{type:"text",id:"city",placeholder:"",required:""},domProps:{value:t.customer.address.city},on:{input:function(e){e.target.composing||t.$set(t.customer.address,"city",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Zip code required.\n                ")])]),s("div",{staticClass:"col-md-4 mb-1"},[s("label",{attrs:{for:"state"}},[t._v("State")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address.state,expression:"customer.address.state"}],staticClass:"form-control",attrs:{type:"text",id:"state",placeholder:"",required:""},domProps:{value:t.customer.address.state},on:{input:function(e){e.target.composing||t.$set(t.customer.address,"state",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Please provide a valid state.\n                ")])]),s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"zip"}},[t._v("Zip")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address.zip,expression:"customer.address.zip"}],staticClass:"form-control",attrs:{type:"text",id:"zip",placeholder:"",required:""},domProps:{value:t.customer.address.zip},on:{input:function(e){e.target.composing||t.$set(t.customer.address,"zip",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Zip code required.\n                ")])])])]),s("button",{staticClass:"btn btn-primary btn-lg btn-block"},[t._v("Save Customer")])])])])},P=[],N=s("ARhK"),I=s("Wcq6"),M=s.n(I),T=(s("5x/H"),{apiKey:"AIzaSyCSTp7E0h3eQSvM7jWCwClg5MWAXmAU9aQ",authDomain:"chickadee-41af5.firebaseapp.com",databaseURL:"https://chickadee-41af5.firebaseio.com",projectId:"chickadee-41af5",storageBucket:"chickadee-41af5.appspot.com",messagingSenderId:"142972629636"}),V=M.a.initializeApp(T);M.a.firestore().settings({timestampsInSnapshots:!0});var q=V.firestore(),$={components:{VueGoogleAutocomplete:N["a"]},name:"new-customer",data:function(){return{customer:{phone:null,name:null,email:null,address:{address_1:null,state:null,zip:null,city:null}}}},methods:{getAddressData:function(t){this.customer.address.state=t.administrative_area_level_1,this.customer.address.zip=t.postal_code,this.customer.address.city=t.locality,this.customer.address.country=t.country,this.customer.address.address_1="".concat(t.street_number," ").concat(t.route),this.customer.address.latitude=t.latitude,this.customer.address.longitude=t.longitude},submit:function(){q.collection("customers").add(this.customer).then(function(t){pe.push({name:"customer",params:{id:t.id}})})}},computed:{showAddress:function(){var t=this.customer.address.address_1;return null!==t&&""!==t}}},U=$,F=Object(u["a"])(U,R,P,!1,null,null,null),L=F.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.job?s("div",{staticClass:"job-list"},[s("contact-info",{attrs:{customer:t.customer}}),s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[s("h3",[t._v("Job")]),s("div",{staticClass:"btn-toolbar mb-2 mb-md-0 d-print-none"},[s("div",{staticClass:"btn-group mr-2"},[s("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"new-job",params:{customerId:t.customerId}}}},[t._v("\n        New Job\n        ")])],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"calendar-icon"},[s("font-awesome-icon",{attrs:{icon:"calendar-alt"}})],1),s("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v(t._s(t._f("long_date")(t.job_time)))]),s("p",[t._v(t._s(t._f("default_time")(t.job_time)))]),s("add-to-cal",{attrs:{job:t.job,customer:t.customer}})],1)])]),s("div",{staticClass:"col-md-3"},[s("weather",{attrs:{job:t.job}})],1),s("div",{staticClass:"col-md-6"},[s("todos",{attrs:{job:t.job}})],1)]),s("hr"),s("h3",[t._v("Job Location")]),t.job?s("google-map",{attrs:{address:t.job.address}}):t._e(),s("hr"),s("videos",{attrs:{videos:t.job.videos}}),s("hr"),s("h3",[t._v("Photos")]),s("hr"),s("h3",[t._v("Order")]),s("order",{attrs:{job:t.job}})],1):t._e()},J=[],B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[t.job.todos?s("ul",{staticClass:"todo-list"},t._l(t.job.todos,function(e,a){return s("li",{key:a,class:{done:t.isDone(e)},on:{click:function(s){t.toggle(e)}}},[s("font-awesome-layers",{staticClass:"fa-lg"},[s("font-awesome-icon",{attrs:{icon:"circle"}}),s("font-awesome-icon",{staticClass:"todo-icon",attrs:{icon:"check",transform:"shrink-6"}})],1),t._v("\n        "+t._s(e.title)+"\n      ")],1)})):t._e()])])},W=[],H=s("elWB"),Q=s.n(H),Z={name:"todos",props:["job"],components:{FontAwesomeIcon:H["FontAwesomeIcon"],FontAwesomeLayers:H["FontAwesomeLayers"]},computed:{},methods:Object(i["a"])({},Object(l["b"])(["updateTodos"]),{isDone:function(t){return!!t.state},toggle:function(t){t.state=!t.state,this.update()},update:function(){this.updateTodos(this.job)}}),created:function(){this.job.todos||(this.job.todos=[{title:"Contract sent",state:!1},{title:"Contract signed",state:!1},{title:"Flight complete",state:!1},{title:"Editing complete",state:!1},{title:"Invoice sent",state:!1},{title:"Invoice paid",state:!1}]),this.update()}},K=Z,G=(s("MJ0c"),Object(u["a"])(K,B,W,!1,null,null,null)),X=G.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.forecast?s("div",{staticClass:"weather"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[t.warning?s("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[t._v("Weather may be poor for flying.")]):t._e(),s("i",{staticClass:"weather-icon",class:t.icon}),s("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("Projected Forecast for Time of Job")]),s("p",{staticClass:"card-text"},[t._v(t._s(t._f("round")(t.expectedWeather.main.temp))+"°F with "+t._s(t.expectedWeather.weather[0].description)+" and winds of about "+t._s(t._f("round")(t.expectedWeather.wind.speed))+"mph.")])])])]):t._e()},et=[],st=s("vDqi"),at=(s("BFE1"),s("N9RW"),s("Orj7")),nt={props:["job"],data:function(){return{forecast:null}},computed:{warning:function(){if(this.expectedWeather.wind.speed>15)return!0},icon:function(){if(!this.forecast)return null;var t="wi wi-",e=this.expectedWeather.weather[0].id,s=at[e].icon;return e>699&&e<800||e>899&&e<1e3||(s="day-"+s),t+s},expectedWeather:function(){return this.forecast.list[29]}},created:function(){var t=this,e="807d1a295b6e0ffe946cbc9fd373ad15",s="https://api.openweathermap.org/data/2.5/forecast";Object(st["get"])("".concat(s,"?q=London,uk&lat=").concat(this.job.address.latitude,"&lon=").concat(this.job.address.longitude,"&appid=").concat(e,"&units=imperial")).then(function(e){t.forecast=e.data})}},ot=nt,rt=(s("hmb2"),Object(u["a"])(ot,tt,et,!1,null,null,null)),it=rt.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.address?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("ul",{staticClass:"list-group"},[s("li",{staticClass:"list-group-item"},[s("h5",{staticClass:"card-title"},[t._v("Address")]),s("div",{staticClass:"street"},[t._v(t._s(t.address.address_1))]),s("div",{staticClass:"state"},[t._v(t._s(t.address.city)+",  "+t._s(t.address.state)+" "+t._s(t.address.zip))])]),t.distance?s("li",{staticClass:"list-group-item"},[s("h5",{staticClass:"card-title"},[t._v("Getting There")]),s("div",[t._v("\n          "+t._s(t.distance.text)+"\n          "+t._s(t.duration.text)+"\n        ")])]):t._e(),t.distance?s("li",{staticClass:"list-group-item"},[s("h5",{staticClass:"card-title"},[t._v("Travel Expenses")]),s("div",[t._v("\n          A total of "+t._s(t._f("currency")(t.duration_price))+" for "+t._s(t._f("currency")(t.duration_hours,""))+"\n          hours, at the rate of "+t._s(t._f("currency")(20))+" per hour.\n        ")])]):t._e()])]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"google-map",attrs:{id:t.mapName}})])]):t._e()},ct=[],dt={name:"google-map",props:["address"],data:function(){return{mapName:"google-map",map:null,directionsService:null,directionsDisplay:null,distance:null,duration:null}},computed:{duration_price:function(){return 20*this.duration_hours},duration_hours:function(){return this.duration?this.duration.value/3600:null}},methods:{initMap:function(){this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer,this.map=new google.maps.Map(document.getElementById("google-map"),{zoom:7}),this.directionsDisplay.setMap(this.map)},calculateAndDisplayRoute:function(){var t=this;this.directionsService.route({origin:"333 Meadow Cross Rd, 04086",destination:"".concat(this.address.latitude,", ").concat(this.address.longitude),travelMode:"DRIVING"},function(e,s){"OK"===s?(t.distance=e.routes[0].legs[0].distance,t.duration=e.routes[0].legs[0].duration,t.directionsDisplay.setDirections(e)):window.alert("Directions request failed due to "+s)})}},mounted:function(){this.initMap(),this.calculateAndDisplayRoute()}},ut=dt,mt=(s("Phh4"),Object(u["a"])(ut,lt,ct,!1,null,"69285ea6",null)),vt=mt.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-primary d-print-none",attrs:{type:"submit"},on:{click:t.addToCal}},[t._v("Add to Calendar")])},ft=[],ht=(s("pIFo"),s("a1Th"),s("JEAp")),bt=function(){var t=function(t,e){if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1==navigator.userAgent.indexOf("MSIE 10"))){"undefined"===typeof t&&(t="default"),"undefined"===typeof e&&(e="Calendar");var s=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",a=[],n=["BEGIN:VCALENDAR","PRODID:"+e,"VERSION:2.0"].join(s),o=s+"END:VCALENDAR",r=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return a},calendar:function(){return n+s+a.join(s)+o},addEvent:function(e,n,o,i,l,c){if("undefined"===typeof e||"undefined"===typeof n||"undefined"===typeof o||"undefined"===typeof i||"undefined"===typeof l)return!1;if(c&&!c.rrule){if("YEARLY"!==c.freq&&"MONTHLY"!==c.freq&&"WEEKLY"!==c.freq&&"DAILY"!==c.freq)throw"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(c.until&&isNaN(Date.parse(c.until)))throw"Recurrence rrule 'until' must be a valid date string";if(c.interval&&isNaN(parseInt(c.interval)))throw"Recurrence rrule 'interval' must be an integer";if(c.count&&isNaN(parseInt(c.count)))throw"Recurrence rrule 'count' must be an integer";if("undefined"!==typeof c.byday){if("[object Array]"!==Object.prototype.toString.call(c.byday))throw"Recurrence rrule 'byday' must be an array";if(c.byday.length>7)throw"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";for(var d in c.byday=c.byday.filter(function(t,e){return c.byday.indexOf(t)==e}),c.byday)if(r.indexOf(c.byday[d])<0)throw"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}}var u=new Date(i),m=new Date(l),v=new Date,p=("0000"+u.getFullYear().toString()).slice(-4),f=("00"+(u.getMonth()+1).toString()).slice(-2),h=("00"+u.getDate().toString()).slice(-2),b=("00"+u.getHours().toString()).slice(-2),_=("00"+u.getMinutes().toString()).slice(-2),g=("00"+u.getSeconds().toString()).slice(-2),j=("0000"+m.getFullYear().toString()).slice(-4),w=("00"+(m.getMonth()+1).toString()).slice(-2),y=("00"+m.getDate().toString()).slice(-2),C=("00"+m.getHours().toString()).slice(-2),x=("00"+m.getMinutes().toString()).slice(-2),k=("00"+m.getSeconds().toString()).slice(-2),O=("0000"+v.getFullYear().toString()).slice(-4),A=("00"+(v.getMonth()+1).toString()).slice(-2),E=("00"+v.getDate().toString()).slice(-2),z=("00"+v.getHours().toString()).slice(-2),D=("00"+v.getMinutes().toString()).slice(-2),S=("00"+v.getSeconds().toString()).slice(-2),R="",P="";b+_+g+C+x+k!=0&&(R="T"+b+_+g,P="T"+C+x+k);var N,I="T"+z+D+S,M=p+f+h+R,T=j+w+y+P,V=O+A+E+I;if(c)if(c.rrule)N=c.rrule;else{if(N="rrule:FREQ="+c.freq,c.until){var q=new Date(Date.parse(c.until)).toISOString();N+=";UNTIL="+q.substring(0,q.length-13).replace(/[-]/g,"")+"000000Z"}c.interval&&(N+=";INTERVAL="+c.interval),c.count&&(N+=";COUNT="+c.count),c.byday&&c.byday.length>0&&(N+=";BYDAY="+c.byday.join(","))}var $=["BEGIN:VEVENT","UID:"+a.length+"@"+t,"CLASS:PUBLIC","DESCRIPTION:"+n,"DTSTAMP;VALUE=DATE-TIME:"+V,"DTSTART;VALUE=DATE-TIME:"+M,"DTEND;VALUE=DATE-TIME:"+T,"LOCATION:"+o,"SUMMARY;LANGUAGE=en-us:"+e,"TRANSP:TRANSPARENT","END:VEVENT"];return N&&$.splice(4,0,N),$=$.join(s),a.push($),$},download:function(t,e){if(a.length<1)return!1;e="undefined"!==typeof e?e:".ics",t="undefined"!==typeof t?t:"calendar";var r,i=n+s+a.join(s)+o;if(-1===navigator.userAgent.indexOf("MSIE 10"))r=new Blob([i]);else{var l=new BlobBuilder;l.append(i),r=l.getBlob("text/x-vCalendar;charset="+document.characterSet)}return ht.saveAs(r,t+e),i},build:function(){if(a.length<1)return!1;var t=n+s+a.join(s)+o;return t}}}console.log("Unsupported Browser")};return t}(),_t={ics:bt},gt={name:"add-to-cal",props:["customer","job"],data:function(){return{}},computed:{location:function(){return"1462 Hampshire St. San Francisco, CA, United States"},subject:function(){return"Drone Flight for ".concat(this.customer.name)},description:function(){return"just out droning around!"}},methods:{addToCal:function(){var t=_t.ics();t.addEvent(this.subject,this.description,this.location,"6/2/2018 3:30 pm","6/2/2018 6:00 pm"),t.download("Drone Job.ics")}}},jt=gt,wt=Object(u["a"])(jt,pt,ft,!1,null,null,null),yt=wt.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("Videos")]),t._l(t.videos,function(e,a){return s("div",{key:a,staticClass:"video"},[s("div",{staticClass:"video-check"},[s("font-awesome-layers",{staticClass:"fa-lg fa-2x"},[s("font-awesome-icon",{attrs:{icon:"circle"}}),s("font-awesome-icon",{staticClass:"todo-icon",attrs:{icon:"check",transform:"shrink-6"}})],1)],1),s("div",[s("font-awesome-layers",{staticClass:"fa-lg vertical-middle"},[s("font-awesome-icon",{attrs:{icon:"circle"}}),s("strong",{staticClass:"fa-stack-1x num"},[t._v(t._s(a+1))])],1),t._v("\n       "),s("strong",[t._v(t._s(e.duration)+"min "+t._s(e.format)+" @"+t._s(e.frame_rate)+"FPS")]),s("p",[t._v(t._s(e.notes))])],1)])})],2)},xt=[],kt={components:{FontAwesomeIcon:H["FontAwesomeIcon"],FontAwesomeLayers:H["FontAwesomeLayers"]},props:["videos"]},Ot=kt,At=(s("cROy"),Object(u["a"])(Ot,Ct,xt,!1,null,null,null)),Et=At.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"table table-hover"},[t._m(0),t.videos?s("tr",[s("td",[t._v("Videos Captured")]),s("td",[t._v("$100.00 / hr")]),s("td",[t._v(t._s(t.video_duration))]),s("td",[t._v(t._s(t._f("currency")(t.video_price)))])]):t._e()])},Dt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-light"},[s("td",[t._v("Item")]),s("td",[t._v("Rate")]),s("td",[t._v("Duration")]),s("td",[t._v("Price")])])}],St={props:["job"],computed:{videos:function(){return!(!this.job.videos||0==this.job.videos.length)||null},video_duration:function(){return this.job.videos.reduce(function(t,e){return t+parseFloat(e.duration)},0)},video_price:function(){return this.video_duration/60*100}}},Rt=St,Pt=Object(u["a"])(Rt,zt,Dt,!1,null,null,null),Nt=Pt.exports,It={name:"job",components:{GoogleMap:vt,ContactInfo:A,AddToCal:yt,Weather:it,FontAwesomeIcon:Q.a,Todos:X,Videos:Et,Order:Nt},props:["customerId"],computed:Object(i["a"])({},Object(l["c"])(["jobById","customers"]),{job_time:function(){return"2018-06-22 15:00:00"},duration:function(){return 3},job:function(){return this.jobById(this.$route.params.id)},customer:function(){var t=this;if(!this.job)return null;var e=this.customers.find(function(e){return t.job.customer_id===e.id});return e||null}}),methods:{}},Mt=It,Tt=(s("C/QD"),Object(u["a"])(Mt,Y,J,!1,null,null,null)),Vt=Tt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"customer-list"},[s("div",{staticClass:"col-md-12 order-md-1"},[s("h3",{staticClass:"mb-3"},[t._v("New Job")]),s("form",{staticClass:"needs-validation",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 mb-3"},[s("label",{attrs:{for:"customer"}},[t._v("Customer")]),s("v-select",{attrs:{options:t.customer_options,id:"customer"},model:{value:t.customer_select,callback:function(e){t.customer_select=e},expression:"customer_select"}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                Please select a customer.\n              ")])],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAddress,expression:"!showAddress"}],staticClass:"mb-3"},[s("label",{attrs:{for:"customer.email"}},[t._v("Flight Location")]),s("vue-google-autocomplete",{ref:"address",attrs:{id:"place-search",classname:"form-control",placeholder:"Search for an address",country:"us"},on:{placechanged:t.getAddressData}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showAddress,expression:"showAddress"}]},[s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"address"}},[t._v("Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.address.address_1,expression:"job.address.address_1"}],staticClass:"form-control",attrs:{type:"text",id:"address_1",placeholder:"1234 Main St",required:""},domProps:{value:t.job.address.address_1},on:{input:function(e){e.target.composing||t.$set(t.job.address,"address_1",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                Please enter an address.\n              ")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"city"}},[t._v("City")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.address.city,expression:"job.address.city"}],staticClass:"form-control",attrs:{type:"text",id:"city",placeholder:"",required:""},domProps:{value:t.job.address.city},on:{input:function(e){e.target.composing||t.$set(t.job.address,"city",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Zip code required.\n                ")])]),s("div",{staticClass:"col-md-4 mb-1"},[s("label",{attrs:{for:"state"}},[t._v("State")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.address.state,expression:"job.address.state"}],staticClass:"form-control",attrs:{type:"text",id:"state",placeholder:"",required:""},domProps:{value:t.job.address.state},on:{input:function(e){e.target.composing||t.$set(t.job.address,"state",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Please provide a valid state.\n                ")])]),s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"zip"}},[t._v("Zip")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.address.zip,expression:"job.address.zip"}],staticClass:"form-control",attrs:{type:"text",id:"zip",placeholder:"",required:""},domProps:{value:t.job.address.zip},on:{input:function(e){e.target.composing||t.$set(t.job.address,"zip",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Zip code required.\n                ")])])])]),s("hr"),s("h4",[t._v("General")]),s("div",{staticClass:"col-md-6 mb-3"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.permission_to_fly,expression:"job.permission_to_fly"}],staticClass:"custom-control-input",attrs:{id:"same-address",type:"checkbox","true-value":"yes","false-value":"no"},domProps:{checked:Array.isArray(t.job.permission_to_fly)?t._i(t.job.permission_to_fly,null)>-1:t._q(t.job.permission_to_fly,"yes")},on:{change:function(e){var s=t.job.permission_to_fly,a=e.target,n=a.checked?"yes":"no";if(Array.isArray(s)){var o=null,r=t._i(s,o);a.checked?r<0&&t.$set(t.job,"permission_to_fly",s.concat([o])):r>-1&&t.$set(t.job,"permission_to_fly",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.job,"permission_to_fly",n)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"same-address"}},[t._v("Permission to fly?")])])]),s("hr"),s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[s("h2",{staticClass:"h3"},[t._v("Videos")]),s("div",{staticClass:"btn-toolbar mb-2 mb-md-0 d-print-none"},[s("div",{staticClass:"btn-group mr-2"},[s("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:t.addVideo}},[t._v("Add Video")])])])]),t._l(t.job.videos,function(e,a){return s("new-video",{key:"video-"+a,attrs:{value:t.job.videos[a]},on:{change:function(e){var s=arguments.length,n=Array(s);while(s--)n[s]=arguments[s];t.updateVideo.apply(void 0,[a].concat(n))}}})}),s("button",{staticClass:"btn btn-primary btn-lg btn-block"},[t._v("Save Job")])],2)])])},$t=[],Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"format"}},[t._v("Format")]),s("v-select",{attrs:{options:t.formats,id:"format"},model:{value:t.format_select,callback:function(e){t.format_select=e},expression:"format_select"}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n        Please select a format.\n      ")])],1),s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"fps"}},[t._v("Frames Per Second")]),s("v-select",{attrs:{options:t.fps_options,id:"fps"},model:{value:t.fps_select,callback:function(e){t.fps_select=e},expression:"fps_select"}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n        Please select a frame rate.\n      ")])],1),s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"fps"}},[t._v("Duration")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.video.duration,expression:"video.duration"}],staticClass:"form-control",attrs:{id:"duration"},domProps:{value:t.video.duration},on:{input:function(e){e.target.composing||t.$set(t.video,"duration",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n        Please enter a duration.\n      ")])]),s("div",{staticClass:"col-md-12 mb-3"},[s("label",{attrs:{for:"format"}},[t._v("Notes")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.video.notes,expression:"video.notes"}],staticClass:"form-control",attrs:{placeholder:"Describe the shot here"},domProps:{value:t.video.notes},on:{input:function(e){e.target.composing||t.$set(t.video,"notes",e.target.value)}}})])]),s("hr")])},Ft=[],Lt=(s("rGqo"),s("yt8O"),s("RW0V"),{C4K:{dimensions:{width:4096,height:2160},frame_rates:[24,25,30,48,50,60]},"4K":{dimensions:{width:3840,height:2160},frame_rates:[24,25,30,48,50,60]},"2.7k":{dimensions:{width:2720,height:1530},frame_rates:[24,25,30,48,50,60]},FHD:{dimensions:{width:1920,height:1080},frame_rates:[24,25,30,48,50,60,120]},HD:{dimensions:{width:1280,height:720},frame_rates:[24,25,30,48,50,60,120]}}),Yt={components:{VueGoogleAutocomplete:N["a"]},props:["value"],name:"new-video",data:function(){return{format_select:null,fps_select:null,video:{duration:0,notes:null}}},mounted:function(){this.video.format=this.value.format,this.video.frame_rate=this.value.frame_rate},methods:{updateParent:function(){this.$emit("change",this.video)}},computed:{fps_options:function(){return this.format_select?Lt[this.format_select.value].frame_rates.map(function(t){return{label:t.toString(),value:t.toString()}}):[]},formats:function(){return Object.keys(Lt).map(function(t){var e=Lt[t];return{label:"".concat(t," (").concat(e.dimensions.width," x ").concat(e.dimensions.height,"px)"),value:t}})}},watch:{fps_select:function(){if(null===this.fps_select)return this.video.frame_rate=null;this.video.frame_rate=this.fps_select.value,this.updateParent()},format_select:function(){if(null===this.format_select)return this.video.format=null;this.video.format=this.format_select.value,this.updateParent()},video:{handler:function(){this.updateParent()},deep:!0}}},Jt=Yt,Bt=Object(u["a"])(Jt,Ut,Ft,!1,null,null,null),Wt=Bt.exports,Ht={components:{VueGoogleAutocomplete:N["a"],NewVideo:Wt},name:"new-job",data:function(){return{format_select:null,fps_select:null,customer_select:null,job:{customer_id:null,permission_to_fly:!1,photos:[{quantity:0,aspect_ratio:null}],videos:[{duration:0,format:null,frame_rate:null,notes:null}],address:{address_1:null,state:null,zip:null,city:null}}}},methods:{updateVideo:function(t,e){this.job.videos[t]=e},addVideo:function(){var t={duration:0,format:null,frame_rate:null,notes:null};this.job.videos.push(t)},getAddressData:function(t){this.job.address.state=t.administrative_area_level_1,this.job.address.zip=t.postal_code,this.job.address.city=t.locality,this.job.address.country=t.country,this.job.address.address_1="".concat(t.street_number," ").concat(t.route),this.job.address.latitude=t.latitude,this.job.address.longitude=t.longitude},autofillAddressFromCustomer:function(){this.job.address=this.customer.address},submit:function(){var t=this;this.$store.dispatch("addJob",this.job).then(function(){pe.push({name:"customer",params:{id:t.job.customer_id}})})}},created:function(){var t=this.$route.params.customerId;if(t){var e=this.customer_options.find(function(e){return e.value==t});this.customer_select=e}},computed:Object(i["a"])({},Object(l["c"])(["customers"]),{customer:function(){var t=this.customer_select;return null===t?null:this.customers.find(function(e){return e.id===t.value})},customer_options:function(){return this.customers.map(function(t){return{label:t.name,value:t.id}}).filter(function(t){return null!==t.label})},showAddress:function(){var t=this.job.customer_id;return null!==t&&""!==t}}),watch:{customer:function(){this.autofillAddressFromCustomer(),this.job.customer_id=this.customer.id}}},Qt=Ht,Zt=Object(u["a"])(Qt,qt,$t,!1,null,null,null),Kt=Zt.exports,Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please sign in")]),s("label",{staticClass:"sr-only",attrs:{for:"email"}},[t._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("label",{staticClass:"sr-only",attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Sign in")]),s("p",[t._v("No account?  "),s("router-link",{attrs:{to:{name:"signup"}}},[t._v("Sign up.")])],1)])},Xt=[],te={data:function(){return{email:null,password:null}},computed:Object(i["a"])({},Object(l["c"])(["user"])),methods:{submit:function(){var t={email:this.email,password:this.password};this.$store.dispatch("signin",t)}}},ee=te,se=(s("CJhh"),Object(u["a"])(ee,Gt,Xt,!1,null,null,null)),ae=se.exports,ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please sign up")]),s("label",{staticClass:"sr-only",attrs:{for:"email"}},[t._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("label",{staticClass:"sr-only",attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Sign up")]),s("p",[t._v("Have an account?  "),s("router-link",{attrs:{to:{name:"signin"}}},[t._v("Sign in.")])],1)])},oe=[],re={data:function(){return{name:null,email:null,password:null}},computed:Object(i["a"])({},Object(l["c"])(["user"])),methods:{submit:function(){var t={name:this.name,email:this.email,password:this.password};this.$store.dispatch("signup",t)}}},ie=re,le=(s("Nsm5"),Object(u["a"])(ie,ne,oe,!1,null,null,null)),ce=le.exports,de=s("CFDk");s("6nsN");a["a"].use(l["a"]);var ue=new l["a"].Store({state:{customers:[],jobs:[],user:null,requestedRoute:null},getters:{requestedRoute:function(t){return t.requestedRoute},user:function(t){return t.user},customers:function(t){return t.customers},jobs:function(t){return t.jobs},jobById:function(t,e){return function(t){return e.jobs.find(function(e){return e.id===t})}}},mutations:Object(i["a"])({},de["b"],{clearRequestedRoute:function(t){t.requestedRoute=null},setRequestedRoute:function(t,e){t.requestedRoute=e},setUser:function(t,e){t.user=e},clearUser:function(t){t.user=null},addJob:function(t,e){return q.collection("jobs").add(e)},deleteCustomer:function(t,e){q.collection("customers").doc(e).delete().then(function(){pe.push({name:"customers"})})},updateTodos:function(t,e){var s=q.collection("jobs").doc(e.id);s.update({todos:e.todos})}}),actions:{bindRef:Object(de["a"])(function(t,e){var s=t.bindFirebaseRef,a=e.name,n=e.ref;s(a,n)}),init:Object(de["a"])(function(t){var e=t.bindFirebaseRef;e("customers",q.collection("customers")),e("jobs",q.collection("jobs"))}),addJob:function(t,e){return t.commit("addJob",e)},deleteCustomer:function(t,e){t.commit("deleteCustomer",e)},updateTodos:function(t,e){t.commit("updateTodos",e)},signup:function(t,e){var s=t.commit,a=e.email,n=e.password;M.a.auth().createUserWithEmailAndPassword(a,n).then(function(t){s("setUser",t)})},setUser:function(t,e){var s=t.commit,a=t.getters;s("setUser",e);var n=a.requestedRoute;n?pe.push({name:n.name,params:n.params}):pe.push({name:"home"}),s("clearRequestedRoute")},setRequestedRoute:function(t,e){var s=t.commit;s("setRequestedRoute",e)},signin:function(t,e){var s=t.commit,a=e.email,n=e.password;M.a.auth().setPersistence(M.a.auth.Auth.Persistence.LOCAL).then(function(){M.a.auth().signInWithEmailAndPassword(a,n).then(function(t){s("setUser",t.user),pe.push({name:"jobs"})})}).catch(function(){})},signout:function(t){var e=t.commit;return M.a.auth().signOut().then(function(){e("clearUser"),pe.replace("signin")})}}});a["a"].use(n["a"]);var me=[{path:"/signup",name:"signup",component:ce,meta:{authRequired:!1}},{path:"/signin",name:"signin",component:ae,meta:{authRequired:!1}},{path:"/",name:"home",component:v},{path:"/customers",name:"customers",component:v},{path:"/customer/:id",name:"customer",component:S},{path:"/customer/new",name:"new-customer",component:L},{path:"/jobs",name:"jobs",component:w},{path:"/job/:id",name:"job",component:Vt},{path:"/jobs/new",name:"new-job",component:Kt}],ve=new n["a"]({routes:me});ve.beforeEach(function(t,e,s){var a=M.a.auth().currentUser,n=t.matched.some(function(t){return!("authRequired"in t.meta)||t.meta.authRequired});n&&!a?(ue.dispatch("setRequestedRoute",t),s("/signin")):s()});var pe=ve,fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0"},[s("a",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0",attrs:{href:"#"}},[t._v("Chickaboom")]),s("ul",{staticClass:"navbar-nav px-3"},[s("li",{staticClass:"nav-item text-nowrap"},[t.user?s("a",{staticClass:"nav-link",on:{click:t.doSignout}},[t._v("Sign out")]):t._e()])])]),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar d-print-none"},[s("div",{staticClass:"sidebar-sticky"},[s("ul",{staticClass:"nav flex-column"},[s("li",{staticClass:"nav-item"},[t._m(0),s("router-link",{staticClass:"nav-link",attrs:{to:{name:"customers"}}},[s("svg",{staticClass:"feather feather-users",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[s("path",{attrs:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}}),s("circle",{attrs:{cx:"9",cy:"7",r:"4"}}),s("path",{attrs:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}}),s("path",{attrs:{d:"M16 3.13a4 4 0 0 1 0 7.75"}})]),t._v("\n                Customers")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"jobs"}}},[s("svg",{staticClass:"feather feather-file",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[s("path",{attrs:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}}),s("polyline",{attrs:{points:"13 2 13 9 20 9"}})]),t._v("              Jobs")])],1)])])]),s("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 pt-3 px-4 full-width-print",attrs:{role:"main"}},[s("router-view")],1)])])])},he=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[s("span",[t._v("Data")]),s("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[s("span",{attrs:{"data-feather":"plus-circle"}})])])}],be={name:"app",router:pe,components:{},created:function(){this.$store.dispatch("init")},computed:Object(i["a"])({},Object(l["c"])(["user"])),methods:Object(i["a"])({},Object(l["b"])(["signout"]),{doSignout:function(){var t=this;this.signout().then(function(){t.$router.push("/signin")})}})},_e=be,ge=(s("ZL7j"),Object(u["a"])(_e,fe,he,!1,null,null,null)),je=ge.exports,we=s("n3sq"),ye=s("Snq/"),Ce=s.n(ye),xe=s("p8Yy"),ke=s.n(xe),Oe=s("wd/R"),Ae=s.n(Oe);a["a"].filter("round",function(t,e){return t||(t=0),e||(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)}),a["a"].filter("long_date",function(t){var e=Ae()(t);return e.format("dddd, MMMM Do YYYY")}),a["a"].filter("default_time",function(t){var e=Ae()(t);return e.format("LT")});var Ee=s("y1tp"),ze=s("FNQB"),De=s.n(ze),Se=s("fTEH"),Re=s.n(Se),Pe=s("LbGi"),Ne=s.n(Pe);s("+eM2"),s("LdiE");Ee["default"].library.add(De.a,Re.a,Ne.a),a["a"].component("v-select",Ce.a),a["a"].use(ke.a),a["a"].use(we["a"]),a["a"].config.productionTip=!1,M.a.auth().onAuthStateChanged(function(t){t?ue.dispatch("setUser",t):pe.push({name:"signin"})}),new a["a"]({store:ue,render:function(t){return t(je)}}).$mount("#app")},ZL7j:function(t,e,s){"use strict";var a=s("bP1M"),n=s.n(a);n.a},bP1M:function(t,e,s){},cROy:function(t,e,s){"use strict";var a=s("Hp+3"),n=s.n(a);n.a},dPEC:function(t,e,s){},f8oU:function(t,e,s){"use strict";var a=s("4ZAi"),n=s.n(a);n.a},hmb2:function(t,e,s){"use strict";var a=s("/MdH"),n=s.n(a);n.a},m2aQ:function(t,e,s){},vMtS:function(t,e,s){}});
//# sourceMappingURL=app.3e8dc0db.js.map