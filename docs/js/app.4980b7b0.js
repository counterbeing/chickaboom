(function(t){function e(e){for(var a,n,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)n=i[u],r[n]&&m.push(r[n][0]),r[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},r={1:0},o=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;o.push([8,0]),s()})({"2RVC":function(t,e,s){},8:function(t,e,s){t.exports=s("Vtdi")},Phh4:function(t,e,s){"use strict";var a=s("2RVC"),r=s.n(a);r.a},Vtdi:function(t,e,s){"use strict";s.r(e);s("VRzm");var a=s("Kw5r"),r=s("jE9Z"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"customer-list"},[s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[s("h1",{staticClass:"h3"},[t._v("Customers")]),s("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[s("div",{staticClass:"btn-group mr-2"},[s("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"new-customer"}}},[t._v("New Customer")])],1)])]),s("table",{staticClass:"table table-hover"},[t._m(0),s("tbody",t._l(t.customers,function(e){return s("tr",{key:e.id,staticClass:"customer-row",on:{dblclick:function(s){t.openCustomer(e.id)}}},[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.email))]),s("td",[t._v(t._s(e.phone))])])}))])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-light"},[s("tr",[s("th",[t._v("Name")]),s("th",[t._v("Email")]),s("th",[t._v("Phone")])])])}],i=s("yT7P"),l=s("L2JU"),c={name:"customers",data:function(){return{}},created:function(){},computed:Object(i["a"])({},Object(l["c"])(["customers"])),methods:{openCustomer:function(t){xt.push({name:"customer",params:{id:t}})}}},d=c,u=s("KHd+"),m=Object(u["a"])(d,o,n,!1,null,null,null),v=m.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.customer?s("div",{staticClass:"customer-list"},[s("contact-info",{attrs:{customer:t.customer}}),s("hr"),s("jobs",{attrs:{"customer-id":t.customer.id}})],1):t._e()},f=[],b=(s("dRSK"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"job-list"},[s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[s("h3",[t._v("Jobs")]),s("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[s("div",{staticClass:"btn-group mr-2"},[s("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"new-job",params:{customerId:t.customerId}}}},[t._v("\n        New Job\n        ")])],1)])]),s("table",{staticClass:"table table-hover"},[t._m(0),s("tbody",t._l(t.filteredJobs,function(e,a){return s("tr",{key:e.id,staticClass:"job-row",on:{dblclick:function(s){t.openJob(e.id)}}},[s("td",[t._v("2018.07.15")]),s("td",[t._v(t._s(t.customer[a]))]),s("td",[t._v(t._s(e.videos.length))]),s("td",[t._v("10")]),s("td",[t._v("6.5 Hours")]),s("td",[t._v("$520.00")])])}))])])}),h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-light"},[s("tr",[s("th",[t._v("Date")]),s("th",[t._v("Customer")]),s("th",[t._v("Videos")]),s("th",[t._v("Photos")]),s("th",[t._v("Hours")]),s("th",[t._v("Amount")])])])}],_=(s("f3/d"),{name:"jobs",props:["customerId"],data:function(){return{}},computed:Object(i["a"])({},Object(l["c"])(["jobs","customers"]),{customer:function(){var t=this;return this.filteredJobs.map(function(e){if(null===e.customer_id)return null;var s=t.customers.find(function(t){return e.customer_id===t.id});return s?s.name:null})},filteredJobs:function(){var t=this;return this.customerId?this.jobs.filter(function(e){return e.customer_id===t.customerId}):this.jobs}}),created:function(){},methods:{openJob:function(t){xt.push({name:"job",params:{id:t}})}}}),g=_,C=Object(u["a"])(g,b,h,!1,null,null,null),y=C.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[s("h3",[t._v(t._s(t.customer.name))]),s("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[s("div",{staticClass:"btn-group mr-2"},[s("a",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{href:"#"},on:{click:function(e){t.deleteCustomer(t.customer.id)}}},[t._v("Delete Customer")]),s("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"new-customer"}}},[t._v("Edit Customer")])],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Contact")]),s("p",{staticClass:"card-text"},[t._v("email: "+t._s(t.customer.email))]),s("p",{staticClass:"card-text"},[t._v("phone: "+t._s(t.customer.phone))])])])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Billing Address")]),s("div",{staticClass:"street"},[t._v(t._s(t.customer.address.address_1))]),s("div",{staticClass:"state"},[t._v(t._s(t.customer.address.city)+",  "+t._s(t.customer.address.state)+" "+t._s(t.customer.address.zip))])])])])])])},j=[],x={name:"contact-info",props:["customer"],methods:Object(i["a"])({},Object(l["b"])(["deleteCustomer"]))},A=x,k=Object(u["a"])(A,w,j,!1,null,null,null),S=k.exports,E={name:"customer",components:{Jobs:y,ContactInfo:S},data:function(){return{}},computed:Object(i["a"])({},Object(l["c"])(["customers"]),{customer:function(){var t=this;return this.customers.find(function(e){return e.id===t.$route.params.id})}}),methods:Object(i["a"])({},Object(l["b"])(["deleteCustomer"]))},N=E,D=Object(u["a"])(N,p,f,!1,null,null,null),O=D.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"customer-list"},[s("div",{staticClass:"col-md-12 order-md-1"},[s("h3",{staticClass:"mb-3"},[t._v("New Customer")]),s("form",{staticClass:"needs-validation",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"name"}},[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.name,expression:"customer.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Jesus H. Christ",value:"",required:""},domProps:{value:t.customer.name},on:{input:function(e){e.target.composing||t.$set(t.customer,"name",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n              Valid first name is required.\n            ")])]),s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"email"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.email,expression:"customer.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"you@example.com"},domProps:{value:t.customer.email},on:{input:function(e){e.target.composing||t.$set(t.customer,"email",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n              Please enter a valid email address for  shipping updates.\n            ")])]),s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"customer.phone"}},[t._v("Phone")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.phone,expression:"customer.phone"}],staticClass:"form-control",attrs:{type:"tel",id:"phone",placeholder:"555-555-5555"},domProps:{value:t.customer.phone},on:{input:function(e){e.target.composing||t.$set(t.customer,"phone",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n              Need a phone number.\n            ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAddress,expression:"!showAddress"}],staticClass:"mb-3"},[s("label",{attrs:{for:"customer.email"}},[t._v("Billing Address")]),s("vue-google-autocomplete",{ref:"address",attrs:{id:"place-search",classname:"form-control",placeholder:"Search for billing address",country:"us"},on:{placechanged:t.getAddressData}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showAddress,expression:"showAddress"}]},[s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"address"}},[t._v("Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address.address_1,expression:"customer.address.address_1"}],staticClass:"form-control",attrs:{type:"text",id:"address_1",placeholder:"1234 Main St",required:""},domProps:{value:t.customer.address.address_1},on:{input:function(e){e.target.composing||t.$set(t.customer.address,"address_1",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                Please enter a billing address.\n              ")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"zip"}},[t._v("City")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address.city,expression:"customer.address.city"}],staticClass:"form-control",attrs:{type:"text",id:"city",placeholder:"",required:""},domProps:{value:t.customer.address.city},on:{input:function(e){e.target.composing||t.$set(t.customer.address,"city",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Zip code required.\n                ")])]),s("div",{staticClass:"col-md-4 mb-1"},[s("label",{attrs:{for:"state"}},[t._v("State")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address.state,expression:"customer.address.state"}],staticClass:"form-control",attrs:{type:"text",id:"state",placeholder:"",required:""},domProps:{value:t.customer.address.state},on:{input:function(e){e.target.composing||t.$set(t.customer.address,"state",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Please provide a valid state.\n                ")])]),s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"zip"}},[t._v("Zip")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address.zip,expression:"customer.address.zip"}],staticClass:"form-control",attrs:{type:"text",id:"zip",placeholder:"",required:""},domProps:{value:t.customer.address.zip},on:{input:function(e){e.target.composing||t.$set(t.customer.address,"zip",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Zip code required.\n                ")])])])]),s("button",{staticClass:"btn btn-primary btn-lg btn-block"},[t._v("Save Customer")])])])])},I=[],T=s("ARhK"),M=s("Wcq6"),R=s.n(M),$=(s("5x/H"),{apiKey:"AIzaSyCSTp7E0h3eQSvM7jWCwClg5MWAXmAU9aQ",authDomain:"chickadee-41af5.firebaseapp.com",databaseURL:"https://chickadee-41af5.firebaseio.com",projectId:"chickadee-41af5",storageBucket:"chickadee-41af5.appspot.com",messagingSenderId:"142972629636"}),V=R.a.initializeApp($);R.a.firestore().settings({timestampsInSnapshots:!0});var q=V.firestore(),L={components:{VueGoogleAutocomplete:T["a"]},name:"new-customer",data:function(){return{customer:{phone:null,name:null,email:null,address:{address_1:null,state:null,zip:null,city:null}}}},methods:{getAddressData:function(t){this.customer.address.state=t.administrative_area_level_1,this.customer.address.zip=t.postal_code,this.customer.address.city=t.locality,this.customer.address.country=t.country,this.customer.address.address_1="".concat(t.street_number," ").concat(t.route),this.customer.address.latitude=t.latitude,this.customer.address.longitude=t.longitude},submit:function(){q.collection("customers").add(this.customer).then(function(t){xt.push({name:"customer",params:{id:t.id}})})}},computed:{showAddress:function(){var t=this.customer.address.address_1;return null!==t&&""!==t}}},J=L,z=Object(u["a"])(J,P,I,!1,null,null,null),B=z.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"job-list"},[s("contact-info",{attrs:{customer:t.customer}}),t.job?s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[s("h3",[t._v("Job")]),s("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[s("div",{staticClass:"btn-group mr-2"},[s("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"new-job",params:{customerId:t.customerId}}}},[t._v("\n        New Job\n        ")])],1)])]):t._e(),s("div",[t._v("\n    permission to fly: "+t._s(t.job.permission_to_fly)+"\n  ")]),s("div",[t._v("\n    Date: 2018-07-16\n    "),s("br"),s("add-to-cal",{attrs:{job:t.job,customer:t.customer}})],1),s("hr"),s("h3",[t._v("Job Location")]),t.job?s("google-map",{attrs:{address:t.job.address}}):t._e(),s("hr"),s("h3",[t._v("Videos")]),t._l(t.job.videos,function(e,a){return s("div",{key:a},[s("h2",[t._v(t._s(a+1))]),s("pre",[t._v("    "+t._s(e)+"\n    ")])])})],2)},U=[],Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.address?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("ul",{staticClass:"list-group"},[s("li",{staticClass:"list-group-item"},[s("h5",{staticClass:"card-title"},[t._v("Address")]),s("div",{staticClass:"street"},[t._v(t._s(t.address.address_1))]),s("div",{staticClass:"state"},[t._v(t._s(t.address.city)+",  "+t._s(t.address.state)+" "+t._s(t.address.zip))])]),t.distance?s("li",{staticClass:"list-group-item"},[s("h5",{staticClass:"card-title"},[t._v("Getting There")]),s("div",[t._v("\n          "+t._s(t.distance.text)+"\n          "+t._s(t.duration.text)+"\n        ")])]):t._e(),t.distance?s("li",{staticClass:"list-group-item"},[s("h5",{staticClass:"card-title"},[t._v("Travel Expenses")]),s("div",[t._v("\n          A total of "+t._s(t._f("currency")(t.duration_price))+" for "+t._s(t._f("currency")(t.duration_hours,""))+"\n          hours, at the rate of "+t._s(t._f("currency")(20))+" per hour.\n        ")])]):t._e()])]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"google-map",attrs:{id:t.mapName}})])]):t._e()},H=[],G={name:"google-map",props:["address"],data:function(){return{mapName:"google-map",map:null,directionsService:null,directionsDisplay:null,distance:null,duration:null}},computed:{duration_price:function(){return 20*this.duration_hours},duration_hours:function(){return this.duration?this.duration.value/3600:null}},methods:{initMap:function(){this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer,this.map=new google.maps.Map(document.getElementById("google-map"),{zoom:7}),this.directionsDisplay.setMap(this.map)},calculateAndDisplayRoute:function(){var t=this;this.directionsService.route({origin:"333 Meadow Cross Rd, 04086",destination:"".concat(this.address.latitude,", ").concat(this.address.longitude),travelMode:"DRIVING"},function(e,s){"OK"===s?(t.distance=e.routes[0].legs[0].distance,t.duration=e.routes[0].legs[0].duration,t.directionsDisplay.setDirections(e)):window.alert("Directions request failed due to "+s)})}},mounted:function(){this.initMap(),this.calculateAndDisplayRoute()}},K=G,Z=(s("Phh4"),Object(u["a"])(K,Y,H,!1,null,"69285ea6",null)),W=Z.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.addToCal}},[t._v("Add to Calendar")])},X=[],tt=(s("pIFo"),s("a1Th"),s("JEAp")),et=function(){var t=function(t,e){if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1==navigator.userAgent.indexOf("MSIE 10"))){"undefined"===typeof t&&(t="default"),"undefined"===typeof e&&(e="Calendar");var s=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",a=[],r=["BEGIN:VCALENDAR","PRODID:"+e,"VERSION:2.0"].join(s),o=s+"END:VCALENDAR",n=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return a},calendar:function(){return r+s+a.join(s)+o},addEvent:function(e,r,o,i,l,c){if("undefined"===typeof e||"undefined"===typeof r||"undefined"===typeof o||"undefined"===typeof i||"undefined"===typeof l)return!1;if(c&&!c.rrule){if("YEARLY"!==c.freq&&"MONTHLY"!==c.freq&&"WEEKLY"!==c.freq&&"DAILY"!==c.freq)throw"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(c.until&&isNaN(Date.parse(c.until)))throw"Recurrence rrule 'until' must be a valid date string";if(c.interval&&isNaN(parseInt(c.interval)))throw"Recurrence rrule 'interval' must be an integer";if(c.count&&isNaN(parseInt(c.count)))throw"Recurrence rrule 'count' must be an integer";if("undefined"!==typeof c.byday){if("[object Array]"!==Object.prototype.toString.call(c.byday))throw"Recurrence rrule 'byday' must be an array";if(c.byday.length>7)throw"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";for(var d in c.byday=c.byday.filter(function(t,e){return c.byday.indexOf(t)==e}),c.byday)if(n.indexOf(c.byday[d])<0)throw"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}}var u=new Date(i),m=new Date(l),v=new Date,p=("0000"+u.getFullYear().toString()).slice(-4),f=("00"+(u.getMonth()+1).toString()).slice(-2),b=("00"+u.getDate().toString()).slice(-2),h=("00"+u.getHours().toString()).slice(-2),_=("00"+u.getMinutes().toString()).slice(-2),g=("00"+u.getSeconds().toString()).slice(-2),C=("0000"+m.getFullYear().toString()).slice(-4),y=("00"+(m.getMonth()+1).toString()).slice(-2),w=("00"+m.getDate().toString()).slice(-2),j=("00"+m.getHours().toString()).slice(-2),x=("00"+m.getMinutes().toString()).slice(-2),A=("00"+m.getSeconds().toString()).slice(-2),k=("0000"+v.getFullYear().toString()).slice(-4),S=("00"+(v.getMonth()+1).toString()).slice(-2),E=("00"+v.getDate().toString()).slice(-2),N=("00"+v.getHours().toString()).slice(-2),D=("00"+v.getMinutes().toString()).slice(-2),O=("00"+v.getSeconds().toString()).slice(-2),P="",I="";h+_+g+j+x+A!=0&&(P="T"+h+_+g,I="T"+j+x+A);var T,M="T"+N+D+O,R=p+f+b+P,$=C+y+w+I,V=k+S+E+M;if(c)if(c.rrule)T=c.rrule;else{if(T="rrule:FREQ="+c.freq,c.until){var q=new Date(Date.parse(c.until)).toISOString();T+=";UNTIL="+q.substring(0,q.length-13).replace(/[-]/g,"")+"000000Z"}c.interval&&(T+=";INTERVAL="+c.interval),c.count&&(T+=";COUNT="+c.count),c.byday&&c.byday.length>0&&(T+=";BYDAY="+c.byday.join(","))}var L=["BEGIN:VEVENT","UID:"+a.length+"@"+t,"CLASS:PUBLIC","DESCRIPTION:"+r,"DTSTAMP;VALUE=DATE-TIME:"+V,"DTSTART;VALUE=DATE-TIME:"+R,"DTEND;VALUE=DATE-TIME:"+$,"LOCATION:"+o,"SUMMARY;LANGUAGE=en-us:"+e,"TRANSP:TRANSPARENT","END:VEVENT"];return T&&L.splice(4,0,T),L=L.join(s),a.push(L),L},download:function(t,e){if(a.length<1)return!1;e="undefined"!==typeof e?e:".ics",t="undefined"!==typeof t?t:"calendar";var n,i=r+s+a.join(s)+o;if(-1===navigator.userAgent.indexOf("MSIE 10"))n=new Blob([i]);else{var l=new BlobBuilder;l.append(i),n=l.getBlob("text/x-vCalendar;charset="+document.characterSet)}return tt.saveAs(n,t+e),i},build:function(){if(a.length<1)return!1;var t=r+s+a.join(s)+o;return t}}}console.log("Unsupported Browser")};return t}(),st={ics:et},at={name:"add-to-cal",props:["customer","job"],data:function(){return{}},computed:{location:function(){return"1462 Hampshire St. San Francisco, CA, United States"},subject:function(){return"FLY DRONE"},description:function(){return"just out droning around!"}},methods:{addToCal:function(){var t=st.ics();t.addEvent(this.subject,this.description,this.location,"6/2/2018 3:30 pm","6/2/2018 6:00 pm"),t.download("Drone Job.ics")}}},rt=at,ot=Object(u["a"])(rt,Q,X,!1,null,null,null),nt=ot.exports,it={name:"job",components:{GoogleMap:W,ContactInfo:S,AddToCal:nt},props:["customerId"],data:function(){return{}},computed:Object(i["a"])({},Object(l["c"])(["jobById","customers"]),{location:function(){return"Nome, AK"},job:function(){return this.jobById(this.$route.params.id)},customer:function(){var t=this;if(!this.job)return null;var e=this.customers.find(function(e){return t.job.customer_id===e.id});return e||null}}),methods:{openJob:function(t){xt.push({name:"job",params:{id:t}})}}},lt=it,ct=Object(u["a"])(lt,F,U,!1,null,null,null),dt=ct.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"customer-list"},[s("div",{staticClass:"col-md-12 order-md-1"},[s("h3",{staticClass:"mb-3"},[t._v("New Job")]),s("form",{staticClass:"needs-validation",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 mb-3"},[s("label",{attrs:{for:"customer"}},[t._v("Customer")]),s("v-select",{attrs:{options:t.customer_options,id:"customer"},model:{value:t.customer_select,callback:function(e){t.customer_select=e},expression:"customer_select"}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                Please select a customer.\n              ")])],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAddress,expression:"!showAddress"}],staticClass:"mb-3"},[s("label",{attrs:{for:"customer.email"}},[t._v("Flight Location")]),s("vue-google-autocomplete",{ref:"address",attrs:{id:"place-search",classname:"form-control",placeholder:"Search for an address",country:"us"},on:{placechanged:t.getAddressData}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showAddress,expression:"showAddress"}]},[s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"address"}},[t._v("Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.address.address_1,expression:"job.address.address_1"}],staticClass:"form-control",attrs:{type:"text",id:"address_1",placeholder:"1234 Main St",required:""},domProps:{value:t.job.address.address_1},on:{input:function(e){e.target.composing||t.$set(t.job.address,"address_1",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                Please enter an address.\n              ")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"city"}},[t._v("City")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.address.city,expression:"job.address.city"}],staticClass:"form-control",attrs:{type:"text",id:"city",placeholder:"",required:""},domProps:{value:t.job.address.city},on:{input:function(e){e.target.composing||t.$set(t.job.address,"city",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Zip code required.\n                ")])]),s("div",{staticClass:"col-md-4 mb-1"},[s("label",{attrs:{for:"state"}},[t._v("State")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.address.state,expression:"job.address.state"}],staticClass:"form-control",attrs:{type:"text",id:"state",placeholder:"",required:""},domProps:{value:t.job.address.state},on:{input:function(e){e.target.composing||t.$set(t.job.address,"state",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Please provide a valid state.\n                ")])]),s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"zip"}},[t._v("Zip")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.address.zip,expression:"job.address.zip"}],staticClass:"form-control",attrs:{type:"text",id:"zip",placeholder:"",required:""},domProps:{value:t.job.address.zip},on:{input:function(e){e.target.composing||t.$set(t.job.address,"zip",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n                  Zip code required.\n                ")])])])]),s("hr"),s("h4",[t._v("General")]),s("div",{staticClass:"col-md-6 mb-3"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.job.permission_to_fly,expression:"job.permission_to_fly"}],staticClass:"custom-control-input",attrs:{id:"same-address",type:"checkbox","true-value":"yes","false-value":"no"},domProps:{checked:Array.isArray(t.job.permission_to_fly)?t._i(t.job.permission_to_fly,null)>-1:t._q(t.job.permission_to_fly,"yes")},on:{change:function(e){var s=t.job.permission_to_fly,a=e.target,r=a.checked?"yes":"no";if(Array.isArray(s)){var o=null,n=t._i(s,o);a.checked?n<0&&t.$set(t.job,"permission_to_fly",s.concat([o])):n>-1&&t.$set(t.job,"permission_to_fly",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.job,"permission_to_fly",r)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"same-address"}},[t._v("Permission to fly?")])])]),s("hr"),s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[s("h2",{staticClass:"h3"},[t._v("Videos")]),s("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[s("div",{staticClass:"btn-group mr-2"},[s("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:t.addVideo}},[t._v("Add Video")])])])]),t._l(t.job.videos,function(e,a){return s("new-video",{key:"video-"+a,attrs:{value:t.job.videos[a]},on:{change:function(e){var s=arguments.length,r=Array(s);while(s--)r[s]=arguments[s];t.updateVideo.apply(void 0,[a].concat(r))}}})}),s("button",{staticClass:"btn btn-primary btn-lg btn-block"},[t._v("Save Job")])],2)])])},mt=[],vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"format"}},[t._v("Format")]),s("v-select",{attrs:{options:t.formats,id:"format"},model:{value:t.format_select,callback:function(e){t.format_select=e},expression:"format_select"}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n        Please select a format.\n      ")])],1),s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"fps"}},[t._v("Frames Per Second")]),s("v-select",{attrs:{options:t.fps_options,id:"fps"},model:{value:t.fps_select,callback:function(e){t.fps_select=e},expression:"fps_select"}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n        Please select a frame rate.\n      ")])],1),s("div",{staticClass:"col-md-4 mb-3"},[s("label",{attrs:{for:"fps"}},[t._v("Duration")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.video.duration,expression:"video.duration"}],staticClass:"form-control",attrs:{id:"duration"},domProps:{value:t.video.duration},on:{input:function(e){e.target.composing||t.$set(t.video,"duration",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n        Please enter a duration.\n      ")])]),s("div",{staticClass:"col-md-12 mb-3"},[s("label",{attrs:{for:"format"}},[t._v("Notes")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.video.notes,expression:"video.notes"}],staticClass:"form-control",attrs:{placeholder:"Describe the shot here"},domProps:{value:t.video.notes},on:{input:function(e){e.target.composing||t.$set(t.video,"notes",e.target.value)}}})])]),s("hr")])},pt=[],ft=(s("rGqo"),s("yt8O"),s("RW0V"),{C4K:{dimensions:{width:4096,height:2160},frame_rates:[24,25,30,48,50,60]},"4K":{dimensions:{width:3840,height:2160},frame_rates:[24,25,30,48,50,60]},"2.7k":{dimensions:{width:2720,height:1530},frame_rates:[24,25,30,48,50,60]},FHD:{dimensions:{width:1920,height:1080},frame_rates:[24,25,30,48,50,60,120]},HD:{dimensions:{width:1280,height:720},frame_rates:[24,25,30,48,50,60,120]}}),bt={components:{VueGoogleAutocomplete:T["a"]},props:["value"],name:"new-video",data:function(){return{format_select:null,fps_select:null,video:{duration:0,notes:null}}},mounted:function(){this.video.format=this.value.format,this.video.frame_rate=this.value.frame_rate},methods:{updateParent:function(){this.$emit("change",this.video)}},computed:{fps_options:function(){return this.format_select?ft[this.format_select.value].frame_rates.map(function(t){return{label:t.toString(),value:t.toString()}}):[]},formats:function(){return Object.keys(ft).map(function(t){var e=ft[t];return{label:"".concat(t," (").concat(e.dimensions.width," x ").concat(e.dimensions.height,"px)"),value:t}})}},watch:{fps_select:function(){if(null===this.fps_select)return this.video.frame_rate=null;this.video.frame_rate=this.fps_select.value,this.updateParent()},format_select:function(){if(null===this.format_select)return this.video.format=null;this.video.format=this.format_select.value,this.updateParent()},video:{handler:function(){this.updateParent()},deep:!0}}},ht=bt,_t=Object(u["a"])(ht,vt,pt,!1,null,null,null),gt=_t.exports,Ct={components:{VueGoogleAutocomplete:T["a"],NewVideo:gt},name:"new-job",data:function(){return{format_select:null,fps_select:null,customer_select:null,job:{customer_id:null,permission_to_fly:!1,photos:[{quantity:0,aspect_ratio:null}],videos:[{duration:0,format:null,frame_rate:null,notes:null}],address:{address_1:null,state:null,zip:null,city:null}}}},methods:{updateVideo:function(t,e){this.job.videos[t]=e},addVideo:function(){var t={duration:0,format:null,frame_rate:null,notes:null};this.job.videos.push(t)},getAddressData:function(t){this.job.address.state=t.administrative_area_level_1,this.job.address.zip=t.postal_code,this.job.address.city=t.locality,this.job.address.country=t.country,this.job.address.address_1="".concat(t.street_number," ").concat(t.route),this.job.address.latitude=t.latitude,this.job.address.longitude=t.longitude},autofillAddressFromCustomer:function(){this.job.address=this.customer.address},submit:function(){var t=this;this.$store.dispatch("addJob",this.job).then(function(){xt.push({name:"customer",params:{id:t.job.customer_id}})})}},created:function(){var t=this.$route.params.customerId;if(t){var e=this.customer_options.find(function(e){return e.value==t});this.customer_select=e}},computed:Object(i["a"])({},Object(l["c"])(["customers"]),{customer:function(){var t=this.customer_select;return null===t?null:this.customers.find(function(e){return e.id===t.value})},customer_options:function(){return this.customers.map(function(t){return{label:t.name,value:t.id}}).filter(function(t){return null!==t.label})},showAddress:function(){var t=this.job.customer_id;return null!==t&&""!==t}}),watch:{customer:function(){this.autofillAddressFromCustomer(),this.job.customer_id=this.customer.id}}},yt=Ct,wt=Object(u["a"])(yt,ut,mt,!1,null,null,null),jt=wt.exports;a["a"].use(r["a"]);var xt=new r["a"]({routes:[{path:"/",name:"home",component:v},{path:"/customers",name:"customers",component:v},{path:"/customer/:id",name:"customer",component:O},{path:"/customer/new",name:"new-customer",component:B},{path:"/jobs",name:"jobs",component:y},{path:"/job/:id",name:"job",component:dt},{path:"/jobs/new",name:"new-job",component:jt}]}),At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t._m(0),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[s("div",{staticClass:"sidebar-sticky"},[s("ul",{staticClass:"nav flex-column"},[s("li",{staticClass:"nav-item"},[t._m(1),s("router-link",{staticClass:"nav-link",attrs:{to:{name:"customers"}}},[s("svg",{staticClass:"feather feather-users",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[s("path",{attrs:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}}),s("circle",{attrs:{cx:"9",cy:"7",r:"4"}}),s("path",{attrs:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}}),s("path",{attrs:{d:"M16 3.13a4 4 0 0 1 0 7.75"}})]),t._v("\n                Customers")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"jobs"}}},[s("svg",{staticClass:"feather feather-file",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[s("path",{attrs:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}}),s("polyline",{attrs:{points:"13 2 13 9 20 9"}})]),t._v("              Jobs")])],1)])])]),s("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 pt-3 px-4",attrs:{role:"main"}},[s("router-view")],1)])])])},kt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0"},[s("a",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0",attrs:{href:"#"}},[t._v("Chickaboom")]),s("ul",{staticClass:"navbar-nav px-3"},[s("li",{staticClass:"nav-item text-nowrap"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Sign out")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[s("span",[t._v("Data")]),s("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[s("span",{attrs:{"data-feather":"plus-circle"}})])])}],St={name:"app",router:xt,components:{},created:function(){this.$store.dispatch("init")}},Et=St,Nt=(s("ZL7j"),Object(u["a"])(Et,At,kt,!1,null,null,null)),Dt=Nt.exports,Ot=s("n3sq"),Pt=s("Snq/"),It=s.n(Pt),Tt=s("CFDk");a["a"].use(l["a"]);var Mt=new l["a"].Store({state:{customers:[],jobs:[]},getters:{customers:function(t){return t.customers},jobs:function(t){return t.jobs},jobById:function(t,e){return function(t){return e.jobs.find(function(e){return e.id===t})}}},mutations:Object(i["a"])({},Tt["b"],{addJob:function(t,e){return q.collection("jobs").add(e)},deleteCustomer:function(t,e){q.collection("customers").doc(e).delete().then(function(){xt.push({name:"customers"})})}}),actions:{bindRef:Object(Tt["a"])(function(t,e){var s=t.bindFirebaseRef,a=e.name,r=e.ref;s(a,r)}),init:Object(Tt["a"])(function(t){var e=t.bindFirebaseRef;e("customers",q.collection("customers")),e("jobs",q.collection("jobs"))}),addJob:function(t,e){return t.commit("addJob",e)},deleteCustomer:function(t,e){t.commit("deleteCustomer",e)}}}),Rt=s("p8Yy"),$t=s.n(Rt);s("+eM2"),s("LdiE");a["a"].component("v-select",It.a),a["a"].use($t.a),a["a"].use(Ot["a"]),a["a"].config.productionTip=!1,new a["a"]({store:Mt,render:function(t){return t(Dt)}}).$mount("#app")},ZL7j:function(t,e,s){"use strict";var a=s("bP1M"),r=s.n(a);r.a},bP1M:function(t,e,s){}});
//# sourceMappingURL=app.4980b7b0.js.map